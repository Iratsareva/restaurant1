# ‚ùì –û—Ç–≤–µ—Ç—ã –Ω–∞ –≤–∞—à–∏ –≤–æ–ø—Ä–æ—Å—ã

## üéØ –ß—Ç–æ –¥–µ–ª–∞—Ç—å –∏ –∫–∞–∫ –≤—ã–ø–æ–ª–Ω–∏—Ç—å –∑–∞–¥–∞–Ω–∏–µ?

**–ö—Ä–∞—Ç–∫–∏–π –æ—Ç–≤–µ—Ç:** –°–ª–µ–¥—É–π—Ç–µ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –≤ —Ñ–∞–π–ª–µ `–ë–´–°–¢–†–´–ô_–°–¢–ê–†–¢.md` - —Ç–∞–º –≤—Å–µ –ø–æ—à–∞–≥–æ–≤–æ –∑–∞ 15 –º–∏–Ω—É—Ç.

**–ü–æ–¥—Ä–æ–±–Ω—ã–π –æ—Ç–≤–µ—Ç:** –°–º–æ—Ç—Ä–∏—Ç–µ —Ñ–∞–π–ª `–ü–û–õ–ù–ê–Ø_–ò–ù–°–¢–†–£–ö–¶–ò–Ø_–í–´–ü–û–õ–ù–ï–ù–ò–Ø_–ó–ê–î–ê–ù–ò–Ø.md` - —Ç–∞–º –≤—Å–µ –¥–µ—Ç–∞–ª—å–Ω–æ —Ä–∞—Å–ø–∏—Å–∞–Ω–æ.

---

## üìã –ö–∞–∫ –ø–æ–∫–∞–∑–∞—Ç—å –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –∑–∞–¥–∞–Ω–∏—è?

### 1. **Jenkins Pipeline** ‚úÖ
- –û—Ç–∫—Ä–æ–π—Ç–µ: http://localhost:8080
- –ü–æ–∫–∞–∂–∏—Ç–µ —Å–æ–∑–¥–∞–Ω–Ω—ã–π Pipeline (–Ω–∞–ø—Ä–∏–º–µ—Ä, `restaurant`)
- –ü–æ–∫–∞–∂–∏—Ç–µ —É—Å–ø–µ—à–Ω—É—é —Å–±–æ—Ä–∫—É (–∑–µ–ª–µ–Ω–∞—è –≥–∞–ª–æ—á–∫–∞ ‚úÖ)
- –ü–æ–∫–∞–∂–∏—Ç–µ **Console Output** - —Ç–∞–º –≤–∏–¥–Ω–æ –≤—Å–µ —ç—Ç–∞–ø—ã:
  - Checkout (–ø–æ–ª—É—á–µ–Ω–∏–µ –∫–æ–¥–∞)
  - Build events-contract (—Å–±–æ—Ä–∫–∞ –∫–æ–Ω—Ç—Ä–∞–∫—Ç–æ–≤)
  - Build Services (—Å–±–æ—Ä–∫–∞ —Å–µ—Ä–≤–∏—Å–æ–≤)
  - Docker Build (—Å–±–æ—Ä–∫–∞ –æ–±—Ä–∞–∑–æ–≤)
  - Docker Compose Up (–∑–∞–ø—É—Å–∫ —Å–µ—Ä–≤–∏—Å–æ–≤)
  - Health Check (–ø—Ä–æ–≤–µ—Ä–∫–∞ –∑–¥–æ—Ä–æ–≤—å—è)
  - Verify Metrics (–ø—Ä–æ–≤–µ—Ä–∫–∞ –º–µ—Ç—Ä–∏–∫)

### 2. **Docker Compose** ‚úÖ
–í —Ç–µ—Ä–º–∏–Ω–∞–ª–µ –≤—ã–ø–æ–ª–Ω–∏—Ç–µ:
```bash
docker-compose ps
```
–ü–æ–∫–∞–∂–∏—Ç–µ, —á—Ç–æ –≤—Å–µ —Å–µ—Ä–≤–∏—Å—ã –∑–∞–ø—É—â–µ–Ω—ã (Status: Up)

### 3. **Prometheus** ‚úÖ
- –û—Ç–∫—Ä–æ–π—Ç–µ: http://localhost:9091
- –ü–æ–∫–∞–∂–∏—Ç–µ –º–µ—Ç—Ä–∏–∫–∏:
  - –í–≤–µ–¥–∏—Ç–µ `up` –≤ –ø–æ–ª–µ –ø–æ–∏—Å–∫–∞
  - –ù–∞–∂–º–∏—Ç–µ **Execute**
  - –î–æ–ª–∂–Ω—ã –ø–æ—è–≤–∏—Ç—å—Å—è –º–µ—Ç—Ä–∏–∫–∏ –æ—Ç –≤—Å–µ—Ö —Å–µ—Ä–≤–∏—Å–æ–≤
- –ü–æ–∫–∞–∂–∏—Ç–µ targets:
  - –ü–µ—Ä–µ–π–¥–∏—Ç–µ: **Status ‚Üí Targets**
  - –í—Å–µ targets –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å **UP** (–∑–µ–ª–µ–Ω—ã–µ)

### 4. **Grafana** ‚úÖ
- –û—Ç–∫—Ä–æ–π—Ç–µ: http://localhost:3000
- –í–æ–π–¥–∏—Ç–µ: `admin` / `admin`
- –ü–æ–∫–∞–∂–∏—Ç–µ:
  - Data source Prometheus –ø–æ–¥–∫–ª—é—á–µ–Ω
  - –î–∞—à–±–æ—Ä–¥ —Å –º–µ—Ç—Ä–∏–∫–∞–º–∏ (–≥—Ä–∞—Ñ–∏–∫–∏)
  - –ú–µ—Ç—Ä–∏–∫–∏ –æ—Ç –≤–∞—à–∏—Ö —Å–µ—Ä–≤–∏—Å–æ–≤

### 5. **Git** ‚úÖ
–í —Ç–µ—Ä–º–∏–Ω–∞–ª–µ –≤—ã–ø–æ–ª–Ω–∏—Ç–µ:
```bash
git log --oneline
git remote -v
```
–ü–æ–∫–∞–∂–∏—Ç–µ, —á—Ç–æ –ø—Ä–æ–µ–∫—Ç –∑–∞–∫–æ–º–º–∏—á–µ–Ω –∏ –∑–∞–ø—É—à–µ–Ω –≤ Git.

---

## üêõ –ü—Ä–æ–±–ª–µ–º–∞: Jenkins –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç, –æ—à–∏–±–∫–∏ –ø—Ä–∏ —Å–±–æ—Ä–∫–µ

### –ß—Ç–æ –º–æ–≥–ª–æ –ø–æ–π—Ç–∏ –Ω–µ —Ç–∞–∫?

1. **Pipeline —Å–æ–∑–¥–∞–Ω –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ:**
   - ‚ùå –°–æ–∑–¥–∞–Ω –∫–∞–∫ "Freestyle project" –≤–º–µ—Å—Ç–æ "Pipeline"
   - ‚úÖ –†–µ—à–µ–Ω–∏–µ: –£–¥–∞–ª–∏—Ç–µ –∏ —Å–æ–∑–¥–∞–π—Ç–µ –∑–∞–Ω–æ–≤–æ –∫–∞–∫ **Pipeline**

2. **–ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ Pipeline:**
   - ‚ùå –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω "Pipeline script" –≤–º–µ—Å—Ç–æ "Pipeline script from SCM"
   - ‚úÖ –†–µ—à–µ–Ω–∏–µ: –ï—Å–ª–∏ –ø—Ä–æ–µ–∫—Ç –≤ Git, –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ **"Pipeline script from SCM"**

3. **Maven –Ω–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω:**
   - ‚ùå –û—à–∏–±–∫–∞: "mvn: command not found"
   - ‚úÖ –†–µ—à–µ–Ω–∏–µ: **Manage Jenkins ‚Üí Tools ‚Üí Maven** ‚Üí –Ω–∞—Å—Ç—Ä–æ–π—Ç–µ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫—É—é —É—Å—Ç–∞–Ω–æ–≤–∫—É

4. **Docker –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω:**
   - ‚ùå –û—à–∏–±–∫–∞: "Cannot connect to Docker daemon"
   - ‚úÖ –†–µ—à–µ–Ω–∏–µ: –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ Jenkins: `docker-compose restart jenkins`

5. **–ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –ø—É—Ç—å –∫ –ø—Ä–æ–µ–∫—Ç—É:**
   - ‚ùå –û—à–∏–±–∫–∞: "Directory not found"
   - ‚úÖ –†–µ—à–µ–Ω–∏–µ: –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –≤ docker-compose.yml –µ—Å—Ç—å `- ./:/workspace`

### –ö–∞–∫ –∏—Å–ø—Ä–∞–≤–∏—Ç—å?

1. **–û—Ç–∫—Ä–æ–π—Ç–µ Console Output –≤ Jenkins:**
   - Jenkins ‚Üí –≤–∞—à Pipeline ‚Üí –Ω–æ–º–µ—Ä —Å–±–æ—Ä–∫–∏ ‚Üí **Console Output**
   - –ù–∞–π–¥–∏—Ç–µ –æ—à–∏–±–∫—É (–∫—Ä–∞—Å–Ω—ã–º —Ü–≤–µ—Ç–æ–º)
   - –°–∫–æ–ø–∏—Ä—É–π—Ç–µ –æ—à–∏–±–∫—É

2. **–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Ñ–∞–π–ª `–ò–°–ü–†–ê–í–õ–ï–ù–ò–ï_–û–®–ò–ë–û–ö_JENKINS.md`:**
   - –¢–∞–º –æ–ø–∏—Å–∞–Ω—ã –≤—Å–µ —Ç–∏–ø–∏—á–Ω—ã–µ –æ—à–∏–±–∫–∏ –∏ –∏—Ö —Ä–µ—à–µ–Ω–∏—è

3. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏:**
   - Maven –Ω–∞—Å—Ç—Ä–æ–µ–Ω? (Manage Jenkins ‚Üí Tools)
   - –ü–ª–∞–≥–∏–Ω—ã —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã? (Docker Pipeline, Maven Integration)
   - Docker –¥–æ—Å—Ç—É–ø–µ–Ω? (docker-compose exec jenkins docker --version)

---

## üîß –ß—Ç–æ —è –∏—Å–ø—Ä–∞–≤–∏–ª –≤ –≤–∞—à–µ–º –ø—Ä–æ–µ–∫—Ç–µ?

### 1. **Jenkinsfile –∏ Jenkinsfile.local:**
   - ‚úÖ –ò–∑–º–µ–Ω–∏–ª `docker-compose` –Ω–∞ `docker compose` (–Ω–æ–≤–∞—è –≤–µ—Ä—Å–∏—è Docker)
   - ‚úÖ –î–æ–±–∞–≤–∏–ª –ø–æ–¥–¥–µ—Ä–∂–∫—É Maven Wrapper (`./mvnw`)
   - ‚úÖ –ò—Å–ø—Ä–∞–≤–∏–ª –ø–æ—Ä—Ç –¥–ª—è demo-rest (8081 –≤–º–µ—Å—Ç–æ 8080)
   - ‚úÖ –£–ª—É—á—à–∏–ª Health Check (–Ω–µ –ø—Ä–µ—Ä—ã–≤–∞–µ—Ç —Å–±–æ—Ä–∫—É –ø—Ä–∏ –æ—à–∏–±–∫–µ)
   - ‚úÖ –î–æ–±–∞–≤–∏–ª —É—Å—Ç–∞–Ω–æ–≤–∫—É curl –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –º–µ—Ç—Ä–∏–∫

### 2. **–°–æ–∑–¥–∞–ª –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏:**
   - ‚úÖ `–ü–û–õ–ù–ê–Ø_–ò–ù–°–¢–†–£–ö–¶–ò–Ø_–í–´–ü–û–õ–ù–ï–ù–ò–Ø_–ó–ê–î–ê–ù–ò–Ø.md` - –¥–µ—Ç–∞–ª—å–Ω–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è
   - ‚úÖ `–ë–´–°–¢–†–´–ô_–°–¢–ê–†–¢.md` - –±—ã—Å—Ç—Ä–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –Ω–∞ 15 –º–∏–Ω—É—Ç
   - ‚úÖ `–ò–°–ü–†–ê–í–õ–ï–ù–ò–ï_–û–®–ò–ë–û–ö_JENKINS.md` - —Ä–µ—à–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º
   - ‚úÖ `–û–¢–í–ï–¢–´_–ù–ê_–í–û–ü–†–û–°–´.md` - —ç—Ç–æ—Ç —Ñ–∞–π–ª

---

## üìù –ü–æ—à–∞–≥–æ–≤—ã–π –ø–ª–∞–Ω –¥–µ–π—Å—Ç–≤–∏–π –ü–†–Ø–ú–û –°–ï–ô–ß–ê–°

### –®–∞–≥ 1: –ó–∞–ø—É—Å—Ç–∏—Ç–µ Jenkins (2 –º–∏–Ω—É—Ç—ã)
```bash
docker-compose up -d jenkins
```

### –®–∞–≥ 2: –û—Ç–∫—Ä–æ–π—Ç–µ Jenkins (1 –º–∏–Ω—É—Ç–∞)
```
http://localhost:8080
```

### –®–∞–≥ 3: –ü–æ–ª—É—á–∏—Ç–µ –ø–∞—Ä–æ–ª—å (1 –º–∏–Ω—É—Ç–∞)
```bash
docker-compose exec jenkins cat /var/jenkins_home/secrets/initialAdminPassword
```

### –®–∞–≥ 4: –ù–∞—Å—Ç—Ä–æ–π—Ç–µ Jenkins (5 –º–∏–Ω—É—Ç)
- –í—Å—Ç–∞–≤—å—Ç–µ –ø–∞—Ä–æ–ª—å ‚Üí Continue
- Install suggested plugins
- –°–æ–∑–¥–∞–π—Ç–µ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞

### –®–∞–≥ 5: –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –ø–ª–∞–≥–∏–Ω—ã (3 –º–∏–Ω—É—Ç—ã)
- Manage Jenkins ‚Üí Manage Plugins ‚Üí Available
- –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ: Docker Pipeline, Maven Integration
- Restart Jenkins

### –®–∞–≥ 6: –ù–∞—Å—Ç—Ä–æ–π—Ç–µ Maven (2 –º–∏–Ω—É—Ç—ã)
- Manage Jenkins ‚Üí Tools
- Maven ‚Üí Add Maven
- Name: `Maven 3.9`, ‚úÖ Install automatically, Version: `3.9.6`
- Save

### –®–∞–≥ 7: –°–æ–∑–¥–∞–π—Ç–µ Pipeline (2 –º–∏–Ω—É—Ç—ã)
- New Item ‚Üí –∏–º—è: `restaurant` ‚Üí Pipeline ‚Üí OK
- **–ï—Å–ª–∏ –ø—Ä–æ–µ–∫—Ç –≤ Git:**
  - Pipeline script from SCM
  - SCM: Git
  - Repository URL: –≤–∞—à Git URL
  - Script Path: `Jenkinsfile`
- **–ï—Å–ª–∏ –ø—Ä–æ–µ–∫—Ç –ª–æ–∫–∞–ª—å–Ω—ã–π:**
  - Pipeline script
  - –°–∫–æ–ø–∏—Ä—É–π—Ç–µ —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ `Jenkinsfile.local`
- Save

### –®–∞–≥ 8: –ó–∞–ø—É—Å—Ç–∏—Ç–µ Pipeline (5 –º–∏–Ω—É—Ç)
- Build Now
- –°–ª–µ–¥–∏—Ç–µ –∑–∞ Console Output
- –î–æ–∂–¥–∏—Ç–µ—Å—å –∑–µ–ª–µ–Ω–æ–π –≥–∞–ª–æ—á–∫–∏ ‚úÖ

### –®–∞–≥ 9: –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã (2 –º–∏–Ω—É—Ç—ã)
- Prometheus: http://localhost:9091
- Grafana: http://localhost:3000
- Demo REST: http://localhost:8081/actuator/health

---

## ‚úÖ –ß–µ–∫–ª–∏—Å—Ç: –í—Å–µ –ª–∏ –≥–æ—Ç–æ–≤–æ?

- [ ] Jenkins –∑–∞–ø—É—â–µ–Ω –∏ –¥–æ—Å—Ç—É–ø–µ–Ω –Ω–∞ http://localhost:8080
- [ ] Jenkins –Ω–∞—Å—Ç—Ä–æ–µ–Ω (–ø–ª–∞–≥–∏–Ω—ã, Maven)
- [ ] Pipeline —Å–æ–∑–¥–∞–Ω (—Ç–∏–ø: Pipeline, –Ω–µ Freestyle!)
- [ ] Pipeline –Ω–∞—Å—Ç—Ä–æ–µ–Ω –ø—Ä–∞–≤–∏–ª—å–Ω–æ (SCM –∏–ª–∏ –ª–æ–∫–∞–ª—å–Ω—ã–π —Å–∫—Ä–∏–ø—Ç)
- [ ] Pipeline —É—Å–ø–µ—à–Ω–æ –≤—ã–ø–æ–ª–Ω–µ–Ω (–∑–µ–ª–µ–Ω–∞—è –≥–∞–ª–æ—á–∫–∞)
- [ ] –í—Å–µ —Å–µ—Ä–≤–∏—Å—ã –∑–∞–ø—É—â–µ–Ω—ã (`docker-compose ps`)
- [ ] Prometheus —Ä–∞–±–æ—Ç–∞–µ—Ç –∏ —Å–æ–±–∏—Ä–∞–µ—Ç –º–µ—Ç—Ä–∏–∫–∏
- [ ] Grafana –ø–æ–¥–∫–ª—é—á–µ–Ω–∞ –∫ Prometheus –∏ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –º–µ—Ç—Ä–∏–∫–∏
- [ ] –ü—Ä–æ–µ–∫—Ç –∑–∞–∫–æ–º–º–∏—á–µ–Ω –∏ –∑–∞–ø—É—à–µ–Ω –≤ Git

---

## üéØ –ò—Ç–æ–≥

**–í—ã –º–æ–∂–µ—Ç–µ –≤—ã–ø–æ–ª–Ω–∏—Ç—å –∑–∞–¥–∞–Ω–∏–µ!** –í—Å–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ–µ —É–∂–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–æ:

‚úÖ Jenkins –≤ Docker Compose  
‚úÖ Docker Compose –¥–ª—è –≤—Å–µ—Ö —Å–µ—Ä–≤–∏—Å–æ–≤  
‚úÖ Prometheus –¥–ª—è –º–µ—Ç—Ä–∏–∫  
‚úÖ Grafana –¥–ª—è –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–∏  
‚úÖ Jenkinsfile –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π —Å–±–æ—Ä–∫–∏  

**–ü—Ä–æ—Å—Ç–æ —Å–ª–µ–¥—É–π—Ç–µ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è–º –≤ `–ë–´–°–¢–†–´–ô_–°–¢–ê–†–¢.md`!**

---

## üìû –ï—Å–ª–∏ —á—Ç–æ-—Ç–æ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç

1. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏:**
   ```bash
   docker-compose logs jenkins
   docker-compose logs demo-rest
   docker-compose logs prometheus
   ```

2. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ Console Output –≤ Jenkins:**
   - –¢–∞–º –±—É–¥–µ—Ç —Ç–æ—á–Ω–∞—è –æ—à–∏–±–∫–∞

3. **–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ `–ò–°–ü–†–ê–í–õ–ï–ù–ò–ï_–û–®–ò–ë–û–ö_JENKINS.md`:**
   - –¢–∞–º –æ–ø–∏—Å–∞–Ω—ã –≤—Å–µ —Ç–∏–ø–∏—á–Ω—ã–µ –æ—à–∏–±–∫–∏

4. **–ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ –≤—Å–µ:**
   ```bash
   docker-compose down
   docker-compose up -d
   ```

---

**–£–¥–∞—á–∏! –í—ã —Å–ø—Ä–∞–≤–∏—Ç–µ—Å—å!** üöÄ



